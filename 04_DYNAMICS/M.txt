M = ...
[I1 + I2 + I3 + I4 + I5 + I6 + a1^2*m2 + a1^2*m3 + a1^2*m4 + (a2^2*m3)/2 + a1^2*m5 + (a2^2*m4)/2 + a1^2*m6 + (a2^2*m5)/2 + (a3^2*m4)/2 + (a2^2*m6)/2 + (a3^2*m5)/2 + (a3^2*m6)/2 + (d4^2*m4)/2 + (d4^2*m5)/2 + (d4^2*m6)/2 - (a2^2*m3*cos(2*e2))/2 - (a2^2*m4*cos(2*e2))/2 - (a2^2*m5*cos(2*e2))/2 - (a2^2*m6*cos(2*e2))/2 - (a3^2*m4*cos(2*e2 + 2*e3))/2 - (a3^2*m5*cos(2*e2 + 2*e3))/2 - (a3^2*m6*cos(2*e2 + 2*e3))/2 + (d4^2*m4*cos(2*e2 + 2*e3))/2 + (d4^2*m5*cos(2*e2 + 2*e3))/2 + (d4^2*m6*cos(2*e2 + 2*e3))/2 + 2*a1*d4*m4*cos(e2 + e3) + 2*a1*d4*m5*cos(e2 + e3) + 2*a1*d4*m6*cos(e2 + e3) + 2*a1*a3*m4*sin(e2 + e3) + 2*a1*a3*m5*sin(e2 + e3) + 2*a1*a3*m6*sin(e2 + e3) + a2*a3*m4*cos(e3) + a2*a3*m5*cos(e3) + a2*a3*m6*cos(e3) + 2*a1*a2*m3*sin(e2) + 2*a1*a2*m4*sin(e2) + 2*a1*a2*m5*sin(e2) + 2*a1*a2*m6*sin(e2) - a2*d4*m4*sin(e3) - a2*d4*m5*sin(e3) - a2*d4*m6*sin(e3) - a2*a3*m4*cos(2*e2 + e3) - a2*a3*m5*cos(2*e2 + e3) - a2*a3*m6*cos(2*e2 + e3) + a2*d4*m4*sin(2*e2 + e3) + a2*d4*m5*sin(2*e2 + e3) + a2*d4*m6*sin(2*e2 + e3) + a3*d4*m4*sin(2*e2 + 2*e3) + a3*d4*m5*sin(2*e2 + 2*e3) + a3*d4*m6*sin(2*e2 + 2*e3),0,0,-sin(e2 + e3)*(I4 + I5 + I6),cos(e2 + e3)*sin(e4)*(I5 + I6),I6*cos(e4)*sin(e2)*sin(e3)*sin(e5) - I6*cos(e3)*cos(e5)*sin(e2) - I6*cos(e2)*cos(e3)*cos(e4)*sin(e5) - I6*cos(e2)*cos(e5)*sin(e3);
 0,I2 + I3 + I4 + I5 + I6 + a2^2*m3 + a2^2*m4 + a2^2*m5 + a3^2*m4 + a2^2*m6 + a3^2*m5 + a3^2*m6 + d4^2*m4 + d4^2*m5 + d4^2*m6 + 2*a2*a3*m4*cos(e3) + 2*a2*a3*m5*cos(e3) + 2*a2*a3*m6*cos(e3) - 2*a2*d4*m4*sin(e3) - 2*a2*d4*m5*sin(e3) - 2*a2*d4*m6*sin(e3),I3 + I4 + I5 + I6 + a3^2*m4 + a3^2*m5 + a3^2*m6 + d4^2*m4 + d4^2*m5 + d4^2*m6 + a2*a3*m4*cos(e3) + a2*a3*m5*cos(e3) + a2*a3*m6*cos(e3) - a2*d4*m4*sin(e3) - a2*d4*m5*sin(e3) - a2*d4*m6*sin(e3),0,cos(e4)*(I5 + I6),I6*sin(e4)*sin(e5);
 0,I3 + I4 + I5 + I6 + a3^2*m4 + a3^2*m5 + a3^2*m6 + d4^2*m4 + d4^2*m5 + d4^2*m6 + a2*a3*m4*cos(e3) + a2*a3*m5*cos(e3) + a2*a3*m6*cos(e3) - a2*d4*m4*sin(e3) - a2*d4*m5*sin(e3) - a2*d4*m6*sin(e3),I3 + I4 + I5 + I6 + a3^2*m4 + a3^2*m5 + a3^2*m6 + d4^2*m4 + d4^2*m5 + d4^2*m6,0,cos(e4)*(I5 + I6),I6*sin(e4)*sin(e5);
 -sin(e2 + e3)*(I4 + I5 + I6),0,0,I4 + I5 + I6,0,I6*cos(e5);
 cos(e2 + e3)*sin(e4)*(I5 + I6),cos(e4)*(I5 + I6),cos(e4)*(I5 + I6),0,I5 + I6,0;
 I6*cos(e4)*sin(e2)*sin(e3)*sin(e5) - I6*cos(e3)*cos(e5)*sin(e2) - I6*cos(e2)*cos(e3)*cos(e4)*sin(e5) - I6*cos(e2)*cos(e5)*sin(e3),I6*sin(e4)*sin(e5),I6*sin(e4)*sin(e5),I6*cos(e5),0,I6];